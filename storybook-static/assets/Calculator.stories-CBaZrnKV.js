import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as h}from"./index-D4lIrffr.js";import{B as r}from"./Button-rde7CNWX.js";import{D as _}from"./Display-lwmMmDmF.js";import"./index-B2-v9W4q.js";const V=()=>{const[l,s]=h.useState("0"),[i,o]=h.useState(""),[u,a]=h.useState(null),[d,n]=h.useState(!1),m=9,R=999999999,g=()=>{s("0"),o(""),a(null),n(!1)},b=()=>{s("0")},N=()=>{if(l!=="0")if(l.startsWith("-"))s(l.slice(1));else{if(l.length>=m)return;s("-"+l)}},D=t=>{l.length>=m||(d?(s(t),n(!1)):s(l==="0"?t:l+t))},E=()=>{if(d){s("0."),n(!1);return}l.length>=m||l.includes(".")||s(l+".")},k=()=>{if(!u||!i)return;const t=parseFloat(i),p=parseFloat(l);let c=0;switch(u){case"sumar":c=t+p;break;case"restar":c=t-p;break;case"multiplicar":c=t*p;break;case"dividir":c=t/p;break;case"modulo":c=t%p;break;default:return}if(c<0){s("ERROR"),o(""),a(null);return}if(c>R){s("ERROR"),o(""),a(null);return}const x=c.toString(),O=x.length>m?parseFloat(c.toFixed(m-x.split(".")[0].length-1)).toString():x;s(O),o(""),a(null)};return{currentValue:l,previousValue:i,operation:u,clearAll:g,clear:b,toggleSign:N,addDigit:D,addDecimal:E,selectOperation:t=>{if(t==="igual"){k();return}if(l==="ERROR"){g();return}u&&i&&!d&&k(),o(l),a(t),n(!0)}}},S=()=>{const{currentValue:l,previousValue:s,clearAll:i,clear:o,toggleSign:u,addDigit:a,addDecimal:d,selectOperation:n}=V();return e.jsxs("div",{className:"grid grid-cols-4 bg-black p-4 rounded-3xl shadow-xl w-[320px]",children:[e.jsx(_,{previousValue:s,currentValue:l}),e.jsx(r,{className:"masmenos",onClick:u,children:"+/-"}),e.jsx(r,{className:"borrar",onClick:i,children:"C"}),e.jsx(r,{className:"borrar",onClick:o,children:"←"}),e.jsx(r,{className:"operador",value:"dividir",onClick:n,children:"÷"}),e.jsx(r,{onClick:a,children:"7"}),e.jsx(r,{onClick:a,children:"8"}),e.jsx(r,{onClick:a,children:"9"}),e.jsx(r,{className:"operador",value:"multiplicar",onClick:n,children:"×"}),e.jsx(r,{onClick:a,children:"4"}),e.jsx(r,{onClick:a,children:"5"}),e.jsx(r,{onClick:a,children:"6"}),e.jsx(r,{className:"operador",value:"restar",onClick:n,children:"-"}),e.jsx(r,{onClick:a,children:"1"}),e.jsx(r,{onClick:a,children:"2"}),e.jsx(r,{onClick:a,children:"3"}),e.jsx(r,{className:"operador",value:"sumar",onClick:n,children:"+"}),e.jsx(r,{colSpan:2,onClick:a,children:"0"}),e.jsx(r,{onClick:d,children:"."}),e.jsx(r,{className:"operador",value:"igual",onClick:n,children:"="})]})};S.__docgenInfo={description:"",methods:[],displayName:"Calculator"};const I={title:"Calculator/Calculator",component:S,parameters:{layout:"centered",backgrounds:{default:"gradient",values:[{name:"gradient",value:"linear-gradient(to right, #3b82f6, #06b6d4)"},{name:"dark",value:"#1a1a1a"},{name:"light",value:"#f5f5f5"}]}},tags:["autodocs"]},f={};var C,j,v;f.parameters={...f.parameters,docs:{...(C=f.parameters)==null?void 0:C.docs,source:{originalSource:"{}",...(v=(j=f.parameters)==null?void 0:j.docs)==null?void 0:v.source}}};const M=["Default"];export{f as Default,M as __namedExportsOrder,I as default};
